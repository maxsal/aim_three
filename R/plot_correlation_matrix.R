ms::libri(
    ms, qs, data.table, tidyverse, ggcorrplot
)

cor_structure <- structure(
    c(
        1, -0.138472771069173, 0.262539473913268, 0.0468405451550121,
        0.167566551860689, 0.166092379443715, -0.0556810150535702, -0.00389196515634526,
        -0.138472771069173, 1, -0.179053565661372, 0.0235312040482812,
        -0.115388276481859, -0.0448208957108339, 0.0237946498434344,
        -0.00768675768547915, 0.262539473913268, -0.179053565661372,
        1, 0.203021425445865, 0.0915425306467291, 0.0580461239663158,
        0.0826686083769788, 0.0905772810900326, 0.0468405451550121, 0.0235312040482812,
        0.203021425445865, 1, 0.0204487766742965, -0.00921594984143435,
        0.303774286296125, -0.00405822627168262, 0.167566551860689, -0.115388276481859,
        0.0915425306467291, 0.0204487766742965, 1, 0.0801551548165317,
        0.0743051790132458, 0.00156663252186455, 0.166092379443715, -0.0448208957108339,
        0.0580461239663158, -0.00921594984143435, 0.0801551548165317,
        1, -0.0365680107481083, 0.0227178773800331, -0.0556810150535702,
        0.0237946498434344, 0.0826686083769788, 0.303774286296125, 0.0743051790132458,
        -0.0365680107481083, 1, 0.0636833004109739, -0.00389196515634526,
        -0.00768675768547915, 0.0905772810900326, -0.00405822627168262,
        0.00156663252186455, 0.0227178773800331, 0.0636833004109739,
        1
    ),
    dim = c(8L, 8L),
    dimnames = list(
        c(
            "age", "female", "glucose", "bmi", "smoke", "nhw",
            "bmi_prs", "glucose_prs"
        ),
        c(
            "age", "female", "glucose", "bmi", "smoke", "nhw",
            "bmi_prs", "glucose_prs"
        )
    )
)

colnames(cor_structure) <- c("Age", "Female", "Glucose (lab)", "BMI", "Smoking status", "Non-Hispanic White", "BMI (PRS)", "Glucose (PRS)")
rownames(cor_structure) <- c("Age", "Female", "Glucose (lab)", "BMI", "Smoking status", "Non-Hispanic White", "BMI (PRS)", "Glucose (PRS)")

ggcorrplot(
    cor_structure,
    lab = TRUE,
    colors = c("#D55E00", "white", "#0072B2"),
    show.diag = FALSE
) +
    labs(x = "", y = "") +
    theme_ms() +
    theme(
        axis.text.x = element_text(angle = 45, hjust = 1)
    )

ggsave("~/Downloads/correlation_matrix.pdf", width = 6, height = 6, device = cairo_pdf)
